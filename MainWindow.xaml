<Window x:Class="TimelineEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TimelineEditor"
        mc:Ignorable="d"
        Title="Timeline Editor 0.1.0" Height="719" Width="1278" WindowStartupLocation="CenterScreen">
	<DockPanel LastChildFill="True">
		<ToolBar DockPanel.Dock="Top">
			<Button x:Name="OpenFileButton" Content="Open" Click="Browse_Click"/>
			<Button x:Name="ImportFileButton" Content="Import" Click="Import_Click"/>
			<Button x:Name="GenerateButton" Content="Generate" Click="GenerateNotes_Click"/>
			<Button x:Name="ClearAllButton" Content="Clear All" Click="ClearProject_Click"/>
		</ToolBar>
		<Grid Margin="10" Width="250">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Metadata / Status -->
			<StackPanel Grid.Row="0">
				<TextBlock x:Name="NotesFileLabel" Text="Notes File: None"/>
				<TextBlock x:Name="AudioFileLabel" Text="Audio File: None"/>
			</StackPanel>

			<StackPanel Grid.Row="1">
				<Line Stroke="Gray" StrokeThickness="2" Margin="0,5,0,5" Stretch="Fill" X1="1" />
			</StackPanel>

			<StackPanel Grid.Row="2">
				<TextBlock x:Name="StatusTextBlock" Text="" Margin="0,10,0,0" FontSize="8" />
			</StackPanel>

			<StackPanel Grid.Row="3">
				<Line Stroke="Gray" StrokeThickness="2" Margin="0,5,0,5" Stretch="Fill" X1="1" />
			</StackPanel>

			<StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
				<Button Content="▶ Play" Click="Play_Click"/>
				<Button Content="⏸ Stop" Click="Stop_Click" Margin="4,0"/>
				<Button Content="⏮ Reset" Click="Reset_Click"/>
			</StackPanel>
		</Grid>

		<!-- Minimap (reserve space at bottom FIRST) -->
		<Border DockPanel.Dock="Bottom"
            Height="80"
            Background="#222"
            Padding="4">
			<Canvas x:Name="MinimapCanvas"
                Background="#111"
                MouseLeftButtonDown="Minimap_MouseLeftButtonDown"
                MouseMove="Minimap_MouseMove"
                MouseLeftButtonUp="Minimap_MouseLeftButtonUp"/>
		</Border>

		<!-- Main timeline (fills remaining space) -->
		<ScrollViewer x:Name="TimelineScrollViewer"
              HorizontalScrollBarVisibility="Hidden"
              VerticalScrollBarVisibility="Auto"
              CanContentScroll="False"
              ScrollChanged="TimelineScrollViewer_ScrollChanged"
              PreviewMouseWheel="TimelineScrollViewer_PreviewMouseWheel">
				<Canvas Name="TimelineCanvas" Background="Transparent"/>
		</ScrollViewer>
	</DockPanel>
</Window>